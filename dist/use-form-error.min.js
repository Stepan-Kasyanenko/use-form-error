/**
 * Created by Stepan on 30.01.16.
 */
!function(r,e,o){"use strict";e.module("use",[]).directive("useFormError",["$log",function(r){return{restrict:"A",require:["?ngModel","^form"],scope:{useFormError:"@",useErrorExpression:"=",useErrorInput:"=?"},link:function(o,s,u,i){var n=o.useErrorInput||i[0]||i[1];n&&e.isFunction(n.$setValidity)?(e.isDefined(o.useFormError)||r.error('You must define a key for the form input "'+u.useErrorInput+'"'),o.$watch("useErrorExpression",function(e){r.debug("Key: "+u.useFormError+". Expression: "+u.useErrorExpression+" is "+e),e?n.$setValidity(o.useFormError,!1):n.$setValidity(o.useFormError,!0)})):r.error('Form input "'+u.useErrorInput+'" not defined for the key: "'+o.useFormError+'"')}}}])}(window,window.angular);
